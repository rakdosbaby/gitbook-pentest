# Anonymous

{% embed url="https://tryhackme.com/room/anonymous" %}

## <mark style="color:blue;">**Nmap**</mark>

{% code overflow="wrap" %}
```
sudo nmap -Pn -A -p- --min-rate=1000 10.10.251.83

21/tcp  open  ftp         vsftpd 2.0.8 or later

|      Connected to ::ffff:10.6.3.38
|      Logged in as ftp

| ftp-anon: Anonymous FTP login allowed (FTP code 230)
|_drwxrwxrwx    2 111      113          4096 Jun 04  2020 scripts [NSE: writeable]

22/tcp  open  ssh         OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)
139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
445/tcp open  netbios-ssn Samba smbd 4.7.6-Ubuntu (workgroup: WORKGROUP)
```
{% endcode %}

## <mark style="color:blue;">**FTP**</mark>

* ftp ftp@10.10.251.83
* cd scripts
* ls

```
-rwxr-xrwx    1 1000     1000          314 Jun 04  2020 clean.sh
-rw-rw-r--    1 1000     1000         4859 Nov 16 04:38 removed_files.log
-rw-r--r--    1 1000     1000           68 May 12  2020 to_do.txt
```

* mget \*
* cat clean.sh removed\_files.log to\_do.txt

{% code overflow="wrap" %}
```
#!/bin/bash

tmp_files=0
echo $tmp_files
if [ $tmp_files=0 ]
then
        echo "Running cleanup script:  nothing to delete" >> /var/ftp/scripts/removed_files.log
else
    for LINE in $tmp_files; do
        rm -rf /tmp/$LINE && echo "$(date) | Removed file /tmp/$LINE" >> /var/ftp/scripts/removed_files.log;done
fi
```
{% endcode %}

```
Running cleanup script:  nothing to delete
Running cleanup script:  nothing to delete
Running cleanup script:  nothing to delete
Running cleanup script:  nothing to delete
Running cleanup script:  nothing to delete
...
```

```
I really need to disable the anonymous login...it's really not safe
```
